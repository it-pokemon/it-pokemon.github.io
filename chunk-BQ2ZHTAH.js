import{a as dt,b as pt,c as G,d as mt,e as Ct,f as ft,g as vt,h as _t,i as w,j as xt,k as St,l as Dt,m as bt}from"./chunk-JQPIDOJ2.js";import{g as gt}from"./chunk-6Y3ZMEUL.js";import"./chunk-AKAPFDQP.js";import"./chunk-LDR7FG6H.js";import"./chunk-QKMUM3LJ.js";import"./chunk-WHZH344G.js";import{n as ut,q as V}from"./chunk-IZBSCWIF.js";import{c as F,d as ht,e as yt}from"./chunk-ASGLIXUQ.js";import{A as ot,B as at,D as R,Na as ct,Oa as O,W as rt,ea as lt,ha as st,r as X,t as tt,u as et,y as it,z as nt}from"./chunk-LNADR3CJ.js";import{Aa as E,Ab as v,Bb as C,Cb as f,Eb as k,Hb as x,Ib as r,Jb as T,Kb as M,Ma as A,O as I,Qb as y,Qc as j,Rb as Q,Rc as g,Sb as S,Tc as p,Ub as B,Vb as H,Wa as a,Wb as L,Xb as d,_a as m,a as W,da as b,db as s,fb as q,kb as l,pb as Y,qa as $,qb as o,ub as N,vb as Z,wb as J,xb as K,yb as c,za as P,zb as h}from"./chunk-VR6UGIJK.js";var[It,de]=lt({height:"normal",size:"l"}),At=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=s({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-cell"],decls:0,vars:0,template:function(i,n){},styles:[`[tuiCell]{--t-padding: .125rem 1rem;--t-radius: var(--tui-radius-s);-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;position:relative;display:flex;align-items:center;box-sizing:content-box;isolation:isolate;color:var(--tui-text-primary);padding:var(--t-padding);min-block-size:var(--t-height);border-radius:var(--t-radius)}[tuiCell]:disabled,[tuiCell][data-state=disabled]{opacity:initial;pointer-events:none}[tuiCell]:disabled>*:not([tuiTooltip]),[tuiCell][data-state=disabled]>*:not([tuiTooltip]){opacity:var(--tui-disabled-opacity)}[tuiCell]:has(input:disabled){opacity:initial;pointer-events:none}[tuiCell]:has(input:disabled)>*:not([tuiTooltip]){opacity:var(--tui-disabled-opacity)}[tuiCell] [tuiAccessories]{position:relative;display:flex;max-block-size:var(--t-height);align-items:center;align-self:stretch}[tuiCell] [tuiCellActions]{position:absolute;right:0;z-index:1;padding-right:inherit}[tuiCell] [tuiCellActions]~*{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}[tuiCell] [tuiCellActions] button,[tuiCell] [tuiCellActions] a{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:0}[tuiCell] [tuiCellActions] button:focus-visible,[tuiCell] [tuiCellActions] a:focus-visible{opacity:1}[tuiCell] [tuiSubtitle]{display:flex;align-items:center;gap:.25rem;color:var(--tui-text-secondary)}[tuiCell] [tuiTitle]{flex-shrink:7;margin-inline-end:auto;align-items:normal;text-align:start}[tuiCell] [tuiTitle]~[tuiTitle]{flex-shrink:3;margin-inline-end:0;text-align:end;align-items:flex-end}[tuiCell] [tuiTitle]~[tuiTitle][tuiFade]{align-items:flex-start}[tuiCell] tui-badge-notification[data-size=xs]{position:absolute;top:50%;transform:translateY(-50%);left:-.625rem}[tuiCell][data-size=s]{--t-height: calc(var(--tui-height-s) - .125rem);--t-padding: .1875rem 1rem}[tuiCell][data-size=s][data-height=spacious]{--t-padding: .4375rem 1rem}[tuiCell][data-size=s][data-height=compact]{--t-height: calc(var(--tui-height-s) - .25rem);--t-padding: 0 1rem}[tuiCell][data-size=s] [tuiTitle]{max-block-size:100%;font:var(--tui-font-text-ui-s);gap:0}[tuiCell][data-size=s] [tuiSubtitle]{font:var(--tui-font-text-ui-xs)}[tuiCell][data-size=s]>*:not(:first-child),[tuiCell][data-size=s]>[tuiAccessories]>*:not(:first-child){margin-inline-start:.5rem}[tuiCell][data-size=s]>tui-avatar,[tuiCell][data-size=s]>tui-avatar-stack tui-avatar,[tuiCell][data-size=s]>[tuiAccessories] tui-avatar,[tuiCell][data-size=s]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 1.5rem;font:var(--tui-font-text-m);font-size:.5625rem}[tuiCell][data-size=m]{--t-height: calc(var(--tui-height-m) - .75rem);--t-padding: .375rem 1rem}[tuiCell][data-size=m][data-height=spacious]{--t-padding: 1rem}[tuiCell][data-size=m][data-height=compact]{--t-height: calc(var(--tui-height-m) - .5rem);--t-padding: 0 1rem}[tuiCell][data-size=m] [tuiTitle]{font:var(--tui-font-text-ui-s);gap:.125rem}[tuiCell][data-size=m] [tuiSubtitle]{font:var(--tui-font-text-ui-xs)}[tuiCell][data-size=m]>*:not(:first-child),[tuiCell][data-size=m]>[tuiAccessories]>*:not(:first-child){margin-inline-start:.5rem}[tuiCell][data-size=m]>tui-avatar,[tuiCell][data-size=m]>tui-avatar-stack tui-avatar,[tuiCell][data-size=m]>[tuiAccessories] tui-avatar,[tuiCell][data-size=m]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 2rem;align-self:flex-start}[tuiCell][data-size=l]{--t-height: calc(var(--tui-height-l) - 1rem);--t-padding: .5rem 1rem;--t-radius: var(--tui-radius-l)}[tuiCell][data-size=l][data-height=spacious]{--t-padding: 1.25rem 1rem}[tuiCell][data-size=l][data-height=compact]{--t-height: calc(var(--tui-height-l) - 1rem);--t-padding: 0 1rem}[tuiCell][data-size=l]>*:not(:first-child),[tuiCell][data-size=l]>[tuiAccessories]>*:not(:first-child){margin-inline-start:1rem}[tuiCell][data-size=l]>tui-avatar,[tuiCell][data-size=l]>tui-avatar-stack tui-avatar,[tuiCell][data-size=l]>[tuiAccessories] tui-avatar,[tuiCell][data-size=l]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 2.5rem;font:var(--tui-font-text-m);font-weight:700;align-self:flex-start}[tuiCell]:hover [tuiCellActions]~*{opacity:0}[tuiCell]:hover [tuiCellActions] button,[tuiCell]:hover [tuiCellActions] a,[tuiCell]:hover [tuiCellActions] label{opacity:1}[tuiCell]:focus-visible{outline:.125rem solid var(--tui-border-focus);outline-offset:-.125rem}[tuiOption] [tuiCell],tui-primitive-textfield [tuiCell]{padding:0}@media (hover: hover) and (pointer: fine){a[tuiCell]:not([tuiSurface]):hover:not(:disabled,[data-state=disabled]),button[tuiCell]:not([tuiSurface]):hover:not(:disabled,[data-state=disabled]),label[tuiCell]:not([tuiSurface]):hover:not(:disabled,[data-state=disabled]){background:var(--tui-background-neutral-1);cursor:pointer}label[tuiCell]:not([tuiSurface]):hover:not(:has(input:disabled)){background:var(--tui-background-neutral-1);cursor:pointer}}
`],encapsulation:2,changeDetection:0})}}return t})(),Tt=(()=>{class t{constructor(){this.options=$(It),this.nothing=rt(At),this.size=this.options.size,this.height=this.options.height}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=q({type:t,selectors:[["","tuiCell","",5,"ng-template"]],hostAttrs:["tuiCell",""],hostVars:2,hostBindings:function(i,n){i&2&&Y("data-size",n.size||n.options.size)("data-height",n.height)},inputs:{size:[0,"tuiCell","size"],height:[0,"tuiCellHeight","height"]},features:[d([dt({size:"m"}),ct({size:"s"})])]})}}return t})();function Bt(t,u){if(t&1&&(C(0),c(1,"div",1)(2,"div",2),v(3,"tui-avatar",3),c(4,"div",4),y(5),h()()(),f()),t&2){let e=r();a(5),S(" ",e.card.name," ")}}var Mt=(()=>{class t{constructor(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=s({type:t,selectors:[["app-card-list-item-entity"]],inputs:{card:"card"},features:[d([p("cardListItemEntity")])],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["tuiAppearance","floating","tuiCardLarge","","tuiCell",""],["tuiCell","l"],["appearance","primary","src","@tui.credit-card"],["tuiTitle",""]],template:function(i,n){i&1&&l(0,Bt,6,1,"ng-container",0),i&2&&o("translocoRead","cardListItemEntity")},dependencies:[g,pt,Tt,gt,st,vt],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();var Ht=["*"];function Lt(t,u){t&1&&(C(0),M(1),f())}var zt=(()=>{class t{onClick(e){e.preventDefault(),e.stopPropagation(),this.cardEntityHttpService.deleteCard(this.card.id).pipe(b(this.destroyService)).subscribe(()=>{this.activeDialog.completeWith(!1)})}constructor(e,i){this.cardEntityHttpService=e,this.destroyService=i,this.activeDialog=V()}static{this.\u0275fac=function(i){return new(i||t)(m(w),m(F))}}static{this.\u0275cmp=s({type:t,selectors:[["app-delete-card-feature"]],hostBindings:function(i,n){i&1&&x("click",function(D){return n.onClick(D)})},inputs:{card:"card"},features:[d([p("deleteCardFeature")])],ngContentSelectors:Ht,decls:1,vars:1,consts:[[4,"transloco","translocoRead"]],template:function(i,n){i&1&&(T(),l(0,Lt,2,0,"ng-container",0)),i&2&&o("translocoRead","deleteCardFeature")},dependencies:[g],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();function jt(t,u){if(t&1&&(C(0),c(1,"div",1),y(2),h(),c(3,"app-delete-card-feature",2)(4,"button",3),y(5),h()(),f()),t&2){let e=u.$implicit,i=r();a(2),Q(e("description")),a(),o("card",i.card),a(2),S(" ",e("button")," ")}}var Pt=(()=>{class t{constructor(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=s({type:t,selectors:[["app-delete-card-modal"]],inputs:{card:"card"},features:[d([p("deleteCardModalComponent")])],decls:1,vars:1,consts:[[4,"transloco","translocoPrefix"],[1,"mb-16"],[3,"card"],["appearance","accent","size","xl","tuiButton","","type","submit",1,"w-100"]],template:function(i,n){i&1&&l(0,jt,6,3,"ng-container",0),i&2&&o("translocoPrefix","deleteCardModalComponent")},dependencies:[R,g,O,zt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding-block-end:inherit}"],changeDetection:0})}}return t})();var Vt=["*"];function Gt(t,u){if(t&1&&v(0,"app-delete-card-modal",2),t&2){let e=r(2);o("card",e.card)}}function Wt(t,u){if(t&1){let e=k();C(0),M(1),l(2,Gt,1,1,"ng-template",1),L("tuiSheetDialogChange",function(n){P(e);let _=r();return H(_.open,n)||(_.open=n),E(n)}),f()}if(t&2){let e=r();a(2),o("tuiSheetDialogOptions",e.options),B("tuiSheetDialog",e.open)}}var Et=(()=>{class t{onClick(e){e.preventDefault(),e.stopPropagation(),this.open.set(!0)}constructor(e,i){this.destroyService=e,this.translocoService=i,this.open=A(!1),this.options={},this.translocoService.selectTranslate("title",{},{scope:"openDeleteCardModalFeature"}).pipe(b(this.destroyService),I(1)).subscribe(n=>{this.options={label:n,closeable:!0}})}static{this.\u0275fac=function(i){return new(i||t)(m(F),m(j))}}static{this.\u0275cmp=s({type:t,selectors:[["app-open-delete-card-modal-feature"]],hostBindings:function(i,n){i&1&&x("click",function(D){return n.onClick(D)})},inputs:{card:"card"},features:[d([p("openDeleteCardModalFeature")])],ngContentSelectors:Vt,decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[3,"tuiSheetDialogChange","tuiSheetDialogOptions","tuiSheetDialog"],[3,"card"]],template:function(i,n){i&1&&(T(),l(0,Wt,3,2,"ng-container",0)),i&2&&o("translocoRead","openDeleteCardModalFeature")},dependencies:[g,G,Pt],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();var Nt=["*"];function Ut(t,u){t&1&&(C(0),M(1),f())}var kt=(()=>{class t{onClick(e){e.preventDefault(),e.stopPropagation(),this.card.name!==""&&this.cardEntityHttpService.updateCard(this.card.id,this.card).pipe(b(this.destroyService)).subscribe(()=>{this.activeDialog.completeWith(!1)})}constructor(e,i){this.cardEntityHttpService=e,this.destroyService=i,this.activeDialog=V()}static{this.\u0275fac=function(i){return new(i||t)(m(w),m(F))}}static{this.\u0275cmp=s({type:t,selectors:[["app-edit-card-feature"]],hostBindings:function(i,n){i&1&&x("click",function(D){return n.onClick(D)})},inputs:{card:"card"},features:[d([p("editCardFeature")])],ngContentSelectors:Nt,decls:1,vars:1,consts:[[4,"transloco","translocoRead"]],template:function(i,n){i&1&&(T(),l(0,Ut,2,0,"ng-container",0)),i&2&&o("translocoRead","editCardFeature")},dependencies:[g],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();function $t(t,u){if(t&1&&(C(0),c(1,"form",1),v(2,"app-input-card-name-feature",2),c(3,"app-edit-card-feature",3)(4,"button",4),y(5),h()()(),f()),t&2){let e=u.$implicit,i=r();a(),o("formGroup",i.formGroup),a(),o("formControl",i.formGroup.controls.name)("placeholder",i.card.name),a(),o("card",i.editedCard),a(),o("disabled",i.formGroup.invalid),a(),S(" ",e("formGroup.button")," ")}}var Ot=(()=>{class t{get editedCard(){return W(W({},this.card),this.formGroup.getRawValue())}constructor(e){this.formBuilder=e,this.formGroup=this.formBuilder.group({name:this.formBuilder.control("",{nonNullable:!0,validators:[X.required]})})}ngOnInit(){this.formGroup.setValue({name:this.card.name})}static{this.\u0275fac=function(i){return new(i||t)(m(at))}}static{this.\u0275cmp=s({type:t,selectors:[["app-edit-card-modal"]],inputs:{card:"card"},features:[d([p("editCardModalComponent")])],decls:1,vars:1,consts:[[4,"transloco","translocoPrefix"],["tuiForm","m",3,"formGroup"],[3,"formControl","placeholder"],[3,"card"],["appearance","primary","size","xl","tuiButton","","type","submit",1,"w-100",3,"disabled"]],template:function(i,n){i&1&&l(0,$t,6,6,"ng-container",0),i&2&&o("translocoPrefix","editCardModalComponent")},dependencies:[R,it,tt,et,nt,ot,_t,g,O,kt,xt],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();var qt=["*"];function Yt(t,u){if(t&1&&v(0,"app-edit-card-modal",2),t&2){let e=r(2);o("card",e.card)}}function Zt(t,u){if(t&1){let e=k();C(0),M(1),l(2,Yt,1,1,"ng-template",1),L("tuiSheetDialogChange",function(n){P(e);let _=r();return H(_.open,n)||(_.open=n),E(n)}),f()}if(t&2){let e=r();a(2),B("tuiSheetDialog",e.open)}}var wt=(()=>{class t{onClick(e){e.preventDefault(),e.stopPropagation(),this.open.set(!0)}constructor(){this.open=A(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=s({type:t,selectors:[["app-open-edit-card-modal-feature"]],hostBindings:function(i,n){i&1&&x("click",function(D){return n.onClick(D)})},inputs:{card:"card"},features:[d([p("openEditCardModalFeature")])],ngContentSelectors:qt,decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[3,"tuiSheetDialogChange","tuiSheetDialog"],[3,"card"]],template:function(i,n){i&1&&(T(),l(0,Zt,3,1,"ng-container",0)),i&2&&o("translocoRead","openEditCardModalFeature")},dependencies:[g,G,Ot],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();function Jt(t,u){if(t&1&&(c(0,"div",2),v(1,"app-zero-data",4),c(2,"div")(3,"app-open-add-card-modal-feature")(4,"button",5),y(5),h()()()()),t&2){let e=r().$implicit;a(),o("descripiton",e("zeroData.description"))("title",e("zeroData.title")),a(4),S(" ",e("button.addCard")," ")}}function Kt(t,u){if(t&1){let e=k();c(0,"tui-swipe-actions",7),v(1,"app-card-list-item-entity",8),c(2,"app-open-edit-card-modal-feature",9),v(3,"button",10),h(),c(4,"app-open-delete-card-modal-feature",9)(5,"button",11),x("click",function(){P(e);let n=r(3);return E(n.open=!0)}),h()()()}if(t&2){let e=u.$implicit;o("autoClose",!0),a(),o("card",e),a(),o("card",e),a(2),o("card",e)}}function Qt(t,u){if(t&1&&(c(0,"tui-scrollbar",3)(1,"div",6),J(2,Kt,6,4,"tui-swipe-actions",7,Z),h(),c(4,"app-open-add-card-modal-feature")(5,"button",5),y(6),h()()()),t&2){let e=r().$implicit,i=r();o("hidden",!0),a(2),K(i.cards),a(4),S(" ",e("button.addCard")," ")}}function Xt(t,u){if(t&1&&(C(0),c(1,"tui-app-bar",1),y(2),h(),l(3,Jt,6,3,"div",2)(4,Qt,7,2,"tui-scrollbar",3),v(5,"app-nav-bar"),f()),t&2){let e=u.$implicit,i=r();a(2),S(" ",e("title")," "),a(),N(i.cards.length===0?3:-1),a(),N(i.cards.length>0?4:-1)}}var gi=(()=>{class t{constructor(e,i,n,_){this.cardEntityHttpService=e,this.destroyService=i,this.pageTitleService=n,this.translocoService=_,this.cards=[],this.open=!1,this.options={closeable:!1},this.setPageTitle(),this.cardEntityHttpService.getCards().pipe(b(this.destroyService)).subscribe(D=>{this.cards=D})}setPageTitle(){this.translocoService.selectTranslate("title",{},{scope:"cardListPage"}).pipe(b(this.destroyService),I(1)).subscribe(e=>{this.pageTitleService.setTitle(e)})}static{this.\u0275fac=function(i){return new(i||t)(m(w),m(F),m(yt),m(j))}}static{this.\u0275cmp=s({type:t,selectors:[["app-card-list-page"]],features:[d([p("cardListPage"),p("openDeleteCardModalFeature")])],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"flex-none"],[1,"flex-grow-1","d-flex","flex-column","justify-between"],[1,"flex-grow-1",3,"hidden"],[1,"flex-grow-1",3,"descripiton","title"],["appearance","secondary","tuiButton","","tuiTouchable","transform","type","button",1,"w-100"],[1,"card-container"],["tuiTouchable","transform",1,"flex-shrink-0",3,"autoClose"],[3,"card"],["tuiSwipeAction","",3,"card"],["iconStart","@tui.pencil-line","size","s","tuiIconButton","","tuiTouchable","transform","type","button"],["appearance","secondary-destructive","iconStart","@tui.trash","size","s","tuiIconButton","","tuiTouchable","transform","type","button",3,"click"]],template:function(i,n){i&1&&l(0,Xt,6,3,"ng-container",0),i&2&&o("translocoRead","cardListPage")},dependencies:[Ct,O,ht,g,ft,Mt,ut,St,wt,Et,mt,bt,Dt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   tui-app-bar[_ngcontent-%COMP%]{border-bottom:1px solid #e4e4e4}[_nghost-%COMP%]   .card-container[_ngcontent-%COMP%]{padding-top:1rem;display:flex;flex-direction:column;gap:1rem;inline-size:21rem;margin:0 auto}[_nghost-%COMP%]   .card-container[_ngcontent-%COMP%]   tui-swipe-actions[_ngcontent-%COMP%]{margin:-1.5rem}[_nghost-%COMP%]   app-card-list-item-entity[_ngcontent-%COMP%]{margin:1.5rem 1rem}[_nghost-%COMP%]   app-open-delete-card-modal-feature[_ngcontent-%COMP%]{--t-distance: none}[_nghost-%COMP%]   app-open-add-card-modal-feature[_ngcontent-%COMP%]{margin:1rem}"],changeDetection:0})}}return t})();export{gi as CardListPageComponent};
