import{c as K,d as Q,f as $t,g as Bt,i as it,j as Gt,q as ot,r as x,t as _}from"./chunk-IWBSR7ME.js";import{$a as Vt,C as O,D as W,Da as Lt,E as _t,F as G,H as kt,I as At,O as J,P as Y,Ra as P,S as q,Ua as Nt,Va as X,Wa as Ut,X as m,Xa as zt,Ya as Zt,Z as St,Za as tt,_a as jt,ab as et,bb as Wt,db as nt,eb as Jt,la as I,sa as Rt,va as Et}from"./chunk-ONITFPAC.js";import{Aa as T,Cb as Z,Da as gt,Fa as vt,Fb as j,G as H,Ga as N,Gb as V,Hc as F,I as b,Ib as Ft,Jb as Ot,La as U,P as R,Q as E,Qa as yt,Ua as Ct,Va as z,Vb as f,Wb as It,X as L,a as ct,b as ut,ba as $,ca as B,cb as M,da as dt,ea as ft,eb as p,ec as Pt,gb as y,hb as Dt,i as ht,ja as w,jb as C,l as pt,m as lt,ob as Ht,pa as o,pb as l,q as S,qc as xt,rb as bt,t as d,ta as mt,x as h,xb as wt,yb as Tt,zb as Mt}from"./chunk-MEKU6LLM.js";function ee({currentTarget:e,relatedTarget:u}){return!q(u)||!q(e)||!e.contains(u)}var D=(()=>{class e extends ht{constructor(){super(t=>this.stream$.subscribe(t)),this.el=m(),this.zone=o(N),this.stream$=H(I(this.el,"mouseenter").pipe(h(_t)),I(this.el,"mouseleave").pipe(h(W)),I(this.el,"mouseout").pipe(b(ee),h(W))).pipe(E(),Rt(this.zone))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function ie(e,u){e&1&&Z(0)}var ne=["*"];function oe(e,u){if(e&1&&Mt(0,"span",1),e&2){let t=u.polymorpheusOutlet;l("innerHTML",t,yt)}}var se=e=>({$implicit:e});function re(e,u){e&1&&Z(0)}function ae(e,u){if(e&1&&(wt(0,"div",1),C(1,re,1,0,"ng-container",2),Tt()),e&2){let t=u.$implicit;l("@tuiParentAnimation",void 0)("tuiActiveZoneParent",t.activeZone||null),z(),l("polymorpheusOutlet",t.component)("polymorpheusOutletContext",It(4,se,t))}}var ce=At(()=>fe),qt=(()=>{class e extends lt{constructor(){super([])}add(t){this.next(this.value.concat(t))}remove(t){this.value.includes(t)&&this.next(this.value.filter(i=>i!==t))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ue=(()=>{class e extends Wt{constructor(){super(...arguments),this.type="hint"}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=T(e)))(n||e)}})()}static{this.\u0275dir=p({type:e,features:[y]})}}return e})(),Yt=["bottom-left","bottom","bottom-right","top-left","top","top-right","left-top","left","left-bottom","right-top","right","right-bottom"],he={direction:"bottom-left",showDelay:500,hideDelay:200,appearance:"",icon:"@tui.circle-help"},st=kt(he);var rt=(()=>{class e extends Vt{constructor(){super(t=>this.stream$.subscribe(t)),this.isMobile=o(P),this.el=m(),this.hovered$=o(D),this.options=o(st),this.visible=!1,this.toggle$=new pt,this.stream$=H(this.toggle$.pipe($(t=>this.isMobile?d(t):d(t).pipe(R(t?0:this.tuiHintHideDelay))),B(this.hovered$),L()),this.hovered$.pipe($(t=>this.isMobile?d(t):d(t).pipe(R(t?this.tuiHintShowDelay:this.tuiHintHideDelay))),B(this.toggle$),L())).pipe(b(()=>this.enabled),h(t=>t&&(this.el.hasAttribute("tuiHintPointer")||!it(this.el))),ft(t=>{this.visible=t})),this.parent=o(e,{optional:!0,skipSelf:!0}),this.tuiHintShowDelay=this.options.showDelay,this.tuiHintHideDelay=this.options.hideDelay,this.type="hint",this.enabled=!0}toggle(t=!this.visible){this.toggle$.next(t),this.parent?.toggle(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=p({type:e,inputs:{tuiHintShowDelay:"tuiHintShowDelay",tuiHintHideDelay:"tuiHintHideDelay"},exportAs:["tuiHintHover"],features:[f([et(e),D]),y]})}}return e})(),k=8,A=24,r=0,a=1,Kt=(()=>{class e extends Nt{constructor(){super(...arguments),this.offset=o(P)?16:8,this.viewport=o(Lt),this.accessor=Ut("hint")(o(X),o(Qt)),this.points=Yt.reduce((t,i)=>ut(ct({},t),{[i]:[0,0]}),{}),this.direction=o(st).direction,this.directionChange=new vt,this.type="hint"}emitDirection(t){this.directionChange.emit(t)}getPosition(t,i){let n=i?.clientWidth??t.width,c=i?.clientHeight??t.height,s=this.accessor.getClientRect()??O,g=s.left+s.width/2,v=s.top+s.height/2;this.points["top-left"][r]=s.top-c-this.offset,this.points["top-left"][a]=g-n+A,this.points.top[r]=this.points["top-left"][r],this.points.top[a]=g-n/2,this.points["top-right"][r]=this.points["top-left"][r],this.points["top-right"][a]=g-A,this.points["bottom-left"][r]=s.bottom+this.offset,this.points["bottom-left"][a]=this.points["top-left"][a],this.points.bottom[r]=this.points["bottom-left"][r],this.points.bottom[a]=this.points.top[a],this.points["bottom-right"][r]=this.points["bottom-left"][r],this.points["bottom-right"][a]=this.points["top-right"][a],this.points["left-top"][r]=v-c+A,this.points["left-top"][a]=s.left-n-this.offset,this.points.left[r]=v-c/2,this.points.left[a]=this.points["left-top"][a],this.points["left-bottom"][r]=v-A,this.points["left-bottom"][a]=this.points["left-top"][a],this.points["right-top"][r]=this.points["left-top"][r],this.points["right-top"][a]=s.right+this.offset,this.points.right[r]=this.points.left[r],this.points.right[a]=this.points["right-top"][a],this.points["right-bottom"][r]=this.points["left-bottom"][r],this.points["right-bottom"][a]=this.points["right-top"][a];let at=(Array.isArray(this.direction)?this.direction:[this.direction]).concat(Yt).find(Xt=>this.checkPosition(this.points[Xt],n,c))||this.fallback;return this.emitDirection(at),this.points[at]}get fallback(){return this.points.top[r]>this.viewport.getClientRect().bottom-this.points.bottom[r]?"top":"bottom"}checkPosition([t,i],n,c){let s=this.viewport.getClientRect();return t>s.top+k&&i>s.left+k&&t+c<s.bottom-k&&i+n<s.right-k}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=T(e)))(n||e)}})()}static{this.\u0275dir=p({type:e,inputs:{direction:[0,"tuiHintDirection","direction"]},outputs:{directionChange:"tuiHintDirectionChange"},features:[y]})}}return S([J],e.prototype,"emitDirection",null),e})(),Qt=(()=>{class e{constructor(){this.service=o(qt),this.appearance=o(st).appearance,this.content=U(null),this.component=o(x),this.el=m(),this.activeZone=o(K,{optional:!0}),this.type="hint"}set tuiHint(t){this.content.set(t),t||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(t){t&&this.content()?this.service.add(this):this.service.remove(this)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=p({type:e,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{context:[0,"tuiHintContext","context"],appearance:[0,"tuiHintAppearance","appearance"],tuiHint:"tuiHint"},features:[f([tt(e),jt(e),{provide:x,deps:[ce,mt],useClass:x}]),Dt([ue,{directive:rt,inputs:["tuiHintHideDelay","tuiHintHideDelay","tuiHintShowDelay","tuiHintShowDelay"]},{directive:Kt,inputs:["tuiHintDirection","tuiHintDirection"],outputs:["tuiHintDirectionChange","tuiHintDirectionChange"]}])]})}}return e})(),pe=(()=>{class e extends rt{constructor(){super(...arguments),this.currentRect=O}getClientRect(){return this.currentRect}onMove({clientX:t,clientY:i}){this.currentRect=St(t,i)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=T(e)))(n||e)}})()}static{this.\u0275dir=p({type:e,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(i,n){i&1&&V("mousemove.zoneless",function(s){return n.onMove(s)})},features:[f([tt(e),et(e)]),y]})}}return e})(),le=(()=>{class e{constructor(){this.context=ot()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=M({type:e,selectors:[["ng-component"]],hostVars:1,hostBindings:function(i,n){i&2&&j("@tuiParentAnimation",void 0)},decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(i,n){i&1&&C(0,ie,1,0,"ng-container",0),i&2&&l("polymorpheusOutlet",n.context.$implicit.content())},dependencies:[_],encapsulation:2,data:{animation:[Q]},changeDetection:0})}}return e})();var de=[nt,D,zt("hint",Kt),Zt("hint",Qt)],fe=(()=>{class e{constructor(){this.el=m(),this.hover=o(rt),this.vvs=o(Jt),this.desktop={value:"",params:{end:1,start:1}},this.options=Gt(o(Et),"cubic-bezier(0.35, 1.3, 0.25, 1)"),this.pointer=o(pe,{optional:!0}),this.accessor=o(X),this.hint=ot().$implicit,this.isMobile=o(P),this.content=this.hint.component.component===le?U(""):this.hint.content,this.appearance=this.hint.appearance||this.hint.el.closest("[tuiTheme]")?.getAttribute("tuiTheme"),o(nt).pipe(dt(()=>this.hint.el.isConnected),h(t=>this.vvs.correct(t)),F()).subscribe({next:([t,i])=>this.update(t,i),complete:()=>this.hover.toggle(!1)}),o(D).pipe(F()).subscribe(t=>this.hover.toggle(t))}onClick(t){(!t.closest("tui-hint")&&!this.hint.el.contains(t)||it(this.hint.el))&&this.hover.toggle(!1)}apply(t,i,n,c){this.el.style.top=t,this.el.style.left=i,this.el.style.setProperty("--top",`${n}%`),this.el.style.setProperty("--left",`${c}%`),this.el.style.setProperty("--rotate",!c||Math.ceil(c)===100?"90deg":"0deg")}update(t,i){let{clientHeight:n,clientWidth:c}=this.el,s=this.accessor.getClientRect();if(s===O||!n||!c)return;let[g,v]=this.vvs.correct([s.top+s.height/2-t,s.left+s.width/2-i]);this.apply(Y(Math.round(t)),Y(Math.round(i)),Math.round(G(g,0,n)/n*100),Math.round(G(v,0,c)/c*100))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=M({type:e,selectors:[["tui-hint"]],hostVars:8,hostBindings:function(i,n){i&1&&V("click",function(s){return n.onClick(s.target)},!1,Ct),i&2&&(j("@tuiScaleIn",n.isMobile?n.options:n.desktop)("@tuiFadeIn",n.options),Ht("data-appearance",n.appearance)("tuiTheme",n.appearance==="dark"?"light":null),bt("_untouchable",n.pointer)("_mobile",n.isMobile))},features:[f(de)],ngContentSelectors:ne,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(i,n){i&1&&(Ft(),Ot(0),C(1,oe,1,1,"span",0)),i&2&&(z(),l("polymorpheusOutlet",n.content())("polymorpheusOutletContext",n.hint.context))},dependencies:[_],styles:[`[_nghost-%COMP%]{position:absolute;max-inline-size:18rem;padding:.75rem 1rem;background:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);color:var(--tui-text-primary-on-accent-1);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;overflow-wrap:break-word;transform-origin:var(--left) var(--top)}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--top);left:var(--left);inline-size:.75rem;block-size:.5rem;background:inherit;-webkit-mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');transform:translate(-50%,-50%) rotate(var(--rotate))}._mobile[_nghost-%COMP%]{font:var(--tui-font-text-m)}._mobile[_nghost-%COMP%]:before{inline-size:1.5rem;block-size:1.125rem;-webkit-mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>');mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>')}[data-appearance=error][_nghost-%COMP%]{background:var(--tui-status-negative)}[data-appearance=dark][_nghost-%COMP%]{background:var(--tui-background-elevation-1);color:var(--tui-text-primary);filter:drop-shadow(0 0 .125rem rgba(0,0,0,.16)) drop-shadow(0 1.5rem 1rem rgba(0,0,0,.03)) drop-shadow(0 .75rem .75rem rgba(0,0,0,.04)) drop-shadow(0 .25rem .375rem rgba(0,0,0,.05))}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}`],data:{animation:[$t,Bt]},changeDetection:0})}}return S([J],e.prototype,"apply",null),e})();var li=(()=>{class e{constructor(){this.hints$=o(qt),this.destroyRef=o(gt),this.cdr=o(Pt),this.hints=[]}ngOnInit(){this.hints$.pipe(F(this.destroyRef)).subscribe(t=>{this.hints=t,this.cdr.detectChanges()})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=M({type:e,selectors:[["tui-hints"]],hostAttrs:["aria-live","polite"],decls:1,vars:1,consts:[["role","tooltip",3,"tuiActiveZoneParent",4,"ngFor","ngForOf"],["role","tooltip",3,"tuiActiveZoneParent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(i,n){i&1&&C(0,ae,2,6,"div",0),i&2&&l("ngForOf",n.hints)},dependencies:[xt,_,K],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;block-size:0}"],data:{animation:[Q]}})}}return e})();export{li as a};
