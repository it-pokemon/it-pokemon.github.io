import{a as K,b as D,c as M,d as ee,e as te,f as ie}from"./chunk-QV6FZ4MK.js";import{a as ne,b as oe}from"./chunk-TPCQOEIR.js";import{a as $}from"./chunk-45LF24LR.js";import{a as J}from"./chunk-T5J6KDHU.js";import{D as G,eb as Q,lb as X,nb as Z}from"./chunk-PZL7ZRQM.js";import{d as _,f as T,i as q,l as S,n as Y,p as F}from"./chunk-BWSRBPV4.js";import{Ab as y,Bb as m,Cb as d,Hb as A,Ib as r,Jb as N,Kb as U,Qb as I,Rb as w,Rc as u,Tc as C,Wa as o,Xb as s,_a as x,_b as L,da as P,db as a,fb as W,hb as O,ib as z,ka as E,kb as p,pa as k,qb as n,qc as V,t as b,ub as R,vb as B,wb as H,xb as j,yb as l,zb as f}from"./chunk-VR6UGIJK.js";var v=function(e){return e.AI="ai",e.USER="user",e}(v||{});var re=(()=>{class e{constructor(t){this.httpService=t,this.replies=[],this.apiUrl="api/replies"}getReplies(){return b(this.replies)}sendReply(t){let i={id:Date.now().toString(),body:t.body||"",source:v.USER};return this.replies=[...this.replies,i],b(i)}static{this.\u0275fac=function(i){return new(i||e)(k($))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ue(e,c){if(e&1&&(m(0),y(1,"tui-textarea",1),d()),e&2){let t=r();o(),n("expandable",!0)("formControl",t.control)("rows",6)("tuiTextfieldLabelOutside",!0)}}var ae=(()=>{class e extends oe{constructor(){super(),this.control=new q("",{nonNullable:!0,validators:[_.required]})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=a({type:e,selectors:[["cb-input-prompt-feature"]],features:[s([]),O],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["tuiTextfieldSize","s",1,"tui-space_bottom-4","field-small",3,"expandable","formControl","rows","tuiTextfieldLabelOutside"]],template:function(i,g){i&1&&p(0,ue,2,4,"ng-container",0),i&2&&n("translocoRead","inputPromptFeature")},dependencies:[u,ie,ee,te,M,K,D,F,T,S],styles:["[_nghost-%COMP%]{display:block;--t-shadow: none !important}[_nghost-%COMP%]   [data-size=s][_ngcontent-%COMP%]{--tui-height: 1rem !important;--tui-textarea-height: 3.5625rem !important}"],changeDetection:0})}}return e})();var fe=["*"];function ge(e,c){e&1&&(m(0),U(1),d())}var se=(()=>{class e{onClick(t){t.preventDefault(),t.stopPropagation(),this.replyEntityHttpService.sendReply({body:this.message}).pipe(P(this.destroyService)).subscribe()}constructor(t,i){this.destroyService=t,this.replyEntityHttpService=i}static{this.\u0275fac=function(i){return new(i||e)(x(ne),x(re))}}static{this.\u0275cmp=a({type:e,selectors:[["cb-send-message-feature"]],hostBindings:function(i,g){i&1&&A("click",function(pe){return g.onClick(pe)})},inputs:{message:"message"},features:[s([C("sendMessageFeature")])],ngContentSelectors:fe,decls:1,vars:1,consts:[[4,"transloco","translocoRead"]],template:function(i,g){i&1&&(N(),p(0,ge,2,0,"ng-container",0)),i&2&&n("translocoRead","sendMessageFeature")},dependencies:[u],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return e})();function Ce(e,c){if(e&1&&(m(0),l(1,"div",1),y(2,"cb-input-prompt-feature",2),l(3,"cb-send-message-feature",3)(4,"button",4),y(5,"tui-icon",5),f()()(),d()),e&2){let t=r();o(2),n("formControl",t.messageControl),o(),n("message",t.messageControl.getRawValue()),o(),n("disabled",t.messageControl.invalid)}}var Le=(()=>{class e{constructor(t){this.formBuilder=t,this.messageControl=this.formBuilder.control("",{nonNullable:!0,validators:[_.required]})}static{this.\u0275fac=function(i){return new(i||e)(x(Y))}}static{this.\u0275cmp=a({type:e,selectors:[["cb-input-field-widget"]],features:[s([C("inputFieldWidget")])],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"d-flex","align-items-end","p-5"],[1,"flex-grow-1",3,"formControl"],[1,"ms-10",3,"message"],["appearance","primary","tuiButton","","tuiTextfieldSize","s","type","button",1,"flex-shrink-0",3,"disabled"],["icon","@tui.send"]],template:function(i,g){i&1&&p(0,Ce,6,3,"ng-container",0),i&2&&n("translocoRead","inputFieldWidget")},dependencies:[u,ae,se,Z,J,M,D,F,T,S],styles:["[_nghost-%COMP%]{display:block;border-top:1px solid #e4e4e4}"],changeDetection:0})}}return e})();var ve=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=a({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-message"],decls:0,vars:0,template:function(i,g){},styles:[`[tuiMessage]{display:inline-flex;padding:.5rem .625rem;min-block-size:2.25rem;block-size:auto;box-sizing:border-box;inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;isolation:isolate;white-space:nowrap;text-align:start;font:var(--tui-font-text-ui-m);border-radius:var(--tui-radius-l)}[tuiMessage]>[tuiLink]{color:inherit!important;-webkit-text-decoration:underline solid!important;text-decoration:underline solid!important}
`],encapsulation:2,changeDetection:0})}}return e})(),ce=(()=>{class e{constructor(){this.nothing=G(ve)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=W({type:e,selectors:[["","tuiMessage",""]],features:[s([{provide:Q,useValue:{appearance:"neutral"}}]),z([X])]})}}return e})();var xe=(e,c)=>({outgoing:e,incoming:c});function ye(e,c){if(e&1&&(l(0,"span",3)(1,"span",5),I(2),f()()),e&2){let t=r().$implicit,i=r(2);o(2),w(i.getBody(t))}}function he(e,c){if(e&1&&(l(0,"span",4)(1,"span",5),I(2),f()()),e&2){let t=r().$implicit,i=r(2);o(2),w(i.getBody(t))}}function _e(e,c){if(e&1&&(l(0,"span",2),p(1,ye,3,1,"span",3)(2,he,3,1,"span",4),f()),e&2){let t=c.$implicit,i=r(2);n("ngClass",L(3,xe,i.isOutgouing(t),i.isIncomming(t))),o(),R(i.isOutgouing(t)?1:-1),o(),R(i.isIncomming(t)?2:-1)}}function Te(e,c){if(e&1&&(m(0),l(1,"div",1),H(2,_e,3,6,"span",2,B),f(),d()),e&2){let t=r();o(2),j(t.replies)}}var et=(()=>{class e{constructor(){}getBody(t){return t.body}isIncomming(t){return t.source===v.AI}isOutgouing(t){return t.source===v.USER}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=a({type:e,selectors:[["cb-replies-widget"]],inputs:{replies:"replies"},features:[s([C("repliesWidget")])],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"p-5"],[1,"container",3,"ngClass"],["appearance","accent","tuiMessage",""],["tuiMessage",""],[1,"multiline"]],template:function(i,g){i&1&&p(0,Te,4,0,"ng-container",0),i&2&&n("translocoRead","repliesWidget")},dependencies:[u,ce,V],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return e})();export{re as a,Le as b,et as c};
