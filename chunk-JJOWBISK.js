import{c as it,d as nt,f as Kt,g as Qt,i as at,j as se,q as ut,r as $,t as B}from"./chunk-IZBSCWIF.js";import{Aa as Gt,Ca as Jt,G as A,H as Q,I as Nt,K as X,Ka as Yt,M as Ut,N as zt,R as Zt,S as jt,U as S,Ua as qt,V as tt,Y as et,Ya as E,ab as Xt,ba as m,bb as ot,cb as te,da as Vt,db as ee,eb as ie,fb as st,gb as ne,hb as rt,ib as L,jb as oe,lb as ct,mb as re,sa as g,ta as Wt,za as R}from"./chunk-LNADR3CJ.js";import{Ab as At,Ba as P,Db as Y,E as mt,Ea as Tt,F as gt,G as D,Ga as Mt,Gb as q,Ha as x,Hb as K,I as F,Jb as St,Jc as k,Kb as Rt,M as vt,Ma as G,Q as j,R as H,Ra as Ft,Va as Ot,Wa as J,Xb as d,Y as V,Zb as Et,a as lt,aa as yt,b as dt,ba as Ct,ca as O,da as W,db as _,ea as Dt,fa as Ht,fb as u,gc as Lt,hb as v,i as ft,ib as It,ka as I,kb as b,l as z,m as Z,nc as $t,pb as Pt,q as M,qa as o,qb as f,sb as xt,sc as Bt,t as p,ua as bt,x as l,ya as wt,yb as _t,zb as kt}from"./chunk-VR6UGIJK.js";function de({currentTarget:e,relatedTarget:h}){return!et(h)||!et(e)||!e.contains(h)}var w=(()=>{class e extends ft{constructor(){super(t=>this.stream$.subscribe(t)),this.el=m(),this.zone=o(x),this.stream$=D(g(this.el,"mouseenter").pipe(l(Nt)),g(this.el,"mouseleave").pipe(l(Q)),g(this.el,"mouseout").pipe(F(de),l(Q))).pipe(H(),R(this.zone))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac})}}return e})();function fe(e,h){e&1&&Y(0)}var me=["*"];function ge(e,h){if(e&1&&At(0,"span",1),e&2){let t=h.polymorpheusOutlet;f("innerHTML",t,Ft)}}var ve=e=>({$implicit:e});function ye(e,h){e&1&&Y(0)}function Ce(e,h){if(e&1&&(_t(0,"div",1),b(1,ye,1,0,"ng-container",2),kt()),e&2){let t=h.$implicit;f("@tuiParentAnimation",void 0)("tuiActiveZoneParent",t.activeZone||null),J(),f("polymorpheusOutlet",t.component)("polymorpheusOutletContext",Et(4,ve,t))}}var De=zt(()=>Fe),ce=(()=>{class e extends Z{constructor(){super([])}add(t){this.next(this.value.concat(t))}remove(t){this.value.includes(t)&&this.next(this.value.filter(i=>i!==t))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),He=(()=>{class e extends oe{constructor(){super(...arguments),this.type="hint"}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=P(e)))(n||e)}})()}static{this.\u0275dir=u({type:e,features:[v]})}}return e})(),ae=["bottom-left","bottom","bottom-right","top-left","top","top-right","left-top","left","left-bottom","right-top","right","right-bottom"],be={direction:"bottom-left",showDelay:500,hideDelay:200,appearance:"",icon:"@tui.circle-help"},T=Ut(be);var vi=(()=>{class e{constructor(){this.options=o(T,{skipSelf:!0}),this.direction=this.options.direction,this.appearance=this.options.appearance,this.showDelay=this.options.showDelay,this.hideDelay=this.options.hideDelay,this.icon=this.options.icon,this.change$=new z}ngOnChanges(){this.change$.next()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=u({type:e,selectors:[["","tuiHintContent",""]],inputs:{content:[0,"tuiHintContent","content"],direction:[0,"tuiHintDirection","direction"],appearance:[0,"tuiHintAppearance","appearance"],showDelay:[0,"tuiHintShowDelay","showDelay"],hideDelay:[0,"tuiHintHideDelay","hideDelay"]},features:[d([jt(T,e)]),wt]})}}return e})(),ht=(()=>{class e extends rt{constructor(){super(t=>this.stream$.subscribe(t)),this.isMobile=o(E),this.el=m(),this.hovered$=o(w),this.options=o(T),this.visible=!1,this.toggle$=new z,this.stream$=D(this.toggle$.pipe(O(t=>this.isMobile?p(t):p(t).pipe(j(t?0:this.tuiHintHideDelay))),W(this.hovered$),V()),this.hovered$.pipe(O(t=>this.isMobile?p(t):p(t).pipe(j(t?this.tuiHintShowDelay:this.tuiHintHideDelay))),W(this.toggle$),V())).pipe(F(()=>this.enabled),l(t=>t&&(this.el.hasAttribute("tuiHintPointer")||!at(this.el))),Ht(t=>{this.visible=t})),this.parent=o(e,{optional:!0,skipSelf:!0}),this.tuiHintShowDelay=this.options.showDelay,this.tuiHintHideDelay=this.options.hideDelay,this.type="hint",this.enabled=!0}toggle(t=!this.visible){this.toggle$.next(t),this.parent?.toggle(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=u({type:e,inputs:{tuiHintShowDelay:"tuiHintShowDelay",tuiHintHideDelay:"tuiHintHideDelay"},exportAs:["tuiHintHover"],features:[d([L(e),w]),v]})}}return e})(),N=8,U=24,r=0,a=1,ue=(()=>{class e extends Xt{constructor(){super(...arguments),this.offset=o(E)?16:8,this.viewport=o(Yt),this.accessor=te("hint")(o(ot),o(he)),this.points=ae.reduce((t,i)=>dt(lt({},t),{[i]:[0,0]}),{}),this.direction=o(T).direction,this.directionChange=new Mt,this.type="hint"}emitDirection(t){this.directionChange.emit(t)}getPosition(t,i){let n=i?.clientWidth??t.width,c=i?.clientHeight??t.height,s=this.accessor.getClientRect()??A,y=s.left+s.width/2,C=s.top+s.height/2;this.points["top-left"][r]=s.top-c-this.offset,this.points["top-left"][a]=y-n+U,this.points.top[r]=this.points["top-left"][r],this.points.top[a]=y-n/2,this.points["top-right"][r]=this.points["top-left"][r],this.points["top-right"][a]=y-U,this.points["bottom-left"][r]=s.bottom+this.offset,this.points["bottom-left"][a]=this.points["top-left"][a],this.points.bottom[r]=this.points["bottom-left"][r],this.points.bottom[a]=this.points.top[a],this.points["bottom-right"][r]=this.points["bottom-left"][r],this.points["bottom-right"][a]=this.points["top-right"][a],this.points["left-top"][r]=C-c+U,this.points["left-top"][a]=s.left-n-this.offset,this.points.left[r]=C-c/2,this.points.left[a]=this.points["left-top"][a],this.points["left-bottom"][r]=C-U,this.points["left-bottom"][a]=this.points["left-top"][a],this.points["right-top"][r]=this.points["left-top"][r],this.points["right-top"][a]=s.right+this.offset,this.points.right[r]=this.points.left[r],this.points.right[a]=this.points["right-top"][a],this.points["right-bottom"][r]=this.points["left-bottom"][r],this.points["right-bottom"][a]=this.points["right-top"][a];let pt=(Array.isArray(this.direction)?this.direction:[this.direction]).concat(ae).find(pe=>this.checkPosition(this.points[pe],n,c))||this.fallback;return this.emitDirection(pt),this.points[pt]}get fallback(){return this.points.top[r]>this.viewport.getClientRect().bottom-this.points.bottom[r]?"top":"bottom"}checkPosition([t,i],n,c){let s=this.viewport.getClientRect();return t>s.top+N&&i>s.left+N&&t+c<s.bottom-N&&i+n<s.right-N}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=P(e)))(n||e)}})()}static{this.\u0275dir=u({type:e,inputs:{direction:[0,"tuiHintDirection","direction"]},outputs:{directionChange:"tuiHintDirectionChange"},features:[v]})}}return M([S],e.prototype,"emitDirection",null),e})(),he=(()=>{class e{constructor(){this.service=o(ce),this.appearance=o(T).appearance,this.content=G(null),this.component=o($),this.el=m(),this.activeZone=o(it,{optional:!0}),this.type="hint"}set tuiHint(t){this.content.set(t),t||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(t){t&&this.content()?this.service.add(this):this.service.remove(this)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=u({type:e,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{context:[0,"tuiHintContext","context"],appearance:[0,"tuiHintAppearance","appearance"],tuiHint:"tuiHint"},features:[d([st(e),ne(e),{provide:$,deps:[De,bt],useClass:$}]),It([He,{directive:ht,inputs:["tuiHintHideDelay","tuiHintHideDelay","tuiHintShowDelay","tuiHintShowDelay"]},{directive:ue,inputs:["tuiHintDirection","tuiHintDirection"],outputs:["tuiHintDirectionChange","tuiHintDirectionChange"]}])]})}}return e})(),we=(()=>{class e extends ht{constructor(){super(...arguments),this.currentRect=A}getClientRect(){return this.currentRect}onMove({clientX:t,clientY:i}){this.currentRect=Vt(t,i)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=P(e)))(n||e)}})()}static{this.\u0275dir=u({type:e,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(i,n){i&1&&K("mousemove.zoneless",function(s){return n.onMove(s)})},features:[d([st(e),L(e)]),v]})}}return e})(),Te=(()=>{class e{constructor(){this.context=ut()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=_({type:e,selectors:[["ng-component"]],hostVars:1,hostBindings:function(i,n){i&2&&q("@tuiParentAnimation",void 0)},decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(i,n){i&1&&b(0,fe,1,0,"ng-container",0),i&2&&f("polymorpheusOutlet",n.context.$implicit.content())},dependencies:[B],encapsulation:2,data:{animation:[nt]},changeDetection:0})}}return e})();var Me=[ct,w,ee("hint",ue),ie("hint",he)],Fe=(()=>{class e{constructor(){this.el=m(),this.hover=o(ht),this.vvs=o(re),this.desktop={value:"",params:{end:1,start:1}},this.options=se(o(Jt),"cubic-bezier(0.35, 1.3, 0.25, 1)"),this.pointer=o(we,{optional:!0}),this.accessor=o(ot),this.hint=ut().$implicit,this.isMobile=o(E),this.content=this.hint.component.component===Te?G(""):this.hint.content,this.appearance=this.hint.appearance||this.hint.el.closest("[tuiTheme]")?.getAttribute("tuiTheme"),o(ct).pipe(Dt(()=>this.hint.el.isConnected),l(t=>this.vvs.correct(t)),k()).subscribe({next:([t,i])=>this.update(t,i),complete:()=>this.hover.toggle(!1)}),o(w).pipe(k()).subscribe(t=>this.hover.toggle(t))}onClick(t){(!t.closest("tui-hint")&&!this.hint.el.contains(t)||at(this.hint.el))&&this.hover.toggle(!1)}apply(t,i,n,c){this.el.style.top=t,this.el.style.left=i,this.el.style.setProperty("--top",`${n}%`),this.el.style.setProperty("--left",`${c}%`),this.el.style.setProperty("--rotate",!c||Math.ceil(c)===100?"90deg":"0deg")}update(t,i){let{clientHeight:n,clientWidth:c}=this.el,s=this.accessor.getClientRect();if(s===A||!n||!c)return;let[y,C]=this.vvs.correct([s.top+s.height/2-t,s.left+s.width/2-i]);this.apply(tt(Math.round(t)),tt(Math.round(i)),Math.round(X(y,0,n)/n*100),Math.round(X(C,0,c)/c*100))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=_({type:e,selectors:[["tui-hint"]],hostVars:8,hostBindings:function(i,n){i&1&&K("click",function(s){return n.onClick(s.target)},!1,Ot),i&2&&(q("@tuiScaleIn",n.isMobile?n.options:n.desktop)("@tuiFadeIn",n.options),Pt("data-appearance",n.appearance)("tuiTheme",n.appearance==="dark"?"light":null),xt("_untouchable",n.pointer)("_mobile",n.isMobile))},features:[d(Me)],ngContentSelectors:me,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(i,n){i&1&&(St(),Rt(0),b(1,ge,1,1,"span",0)),i&2&&(J(),f("polymorpheusOutlet",n.content())("polymorpheusOutletContext",n.hint.context))},dependencies:[B],styles:[`[_nghost-%COMP%]{position:absolute;max-inline-size:18rem;padding:.75rem 1rem;background:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);color:var(--tui-text-primary-on-accent-1);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;overflow-wrap:break-word;transform-origin:var(--left) var(--top)}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--top);left:var(--left);inline-size:.75rem;block-size:.5rem;background:inherit;-webkit-mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');transform:translate(-50%,-50%) rotate(var(--rotate))}._mobile[_nghost-%COMP%]{font:var(--tui-font-text-m)}._mobile[_nghost-%COMP%]:before{inline-size:1.5rem;block-size:1.125rem;-webkit-mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>');mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>')}[data-appearance=error][_nghost-%COMP%]{background:var(--tui-status-negative)}[data-appearance=dark][_nghost-%COMP%]{background:var(--tui-background-elevation-1);color:var(--tui-text-primary);filter:drop-shadow(0 0 .125rem rgba(0,0,0,.16)) drop-shadow(0 1.5rem 1rem rgba(0,0,0,.03)) drop-shadow(0 .75rem .75rem rgba(0,0,0,.04)) drop-shadow(0 .25rem .375rem rgba(0,0,0,.05))}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}`],data:{animation:[Kt,Qt]},changeDetection:0})}}return M([S],e.prototype,"apply",null),e})(),yi=(()=>{class e extends rt{constructor(){super(t=>this.stream$.subscribe(t)),this.doc=o($t),this.el=m(),this.zone=o(x),this.id$=new Z(""),this.stream$=this.id$.pipe(H(),Wt(()=>mt(this.doc,"keydown",{capture:!0}),Zt),O(()=>this.focused?p(!1):D(g(this.doc,"keyup"),g(this.element,"blur")).pipe(l(()=>this.focused))),vt(t=>t?gt(1e3,Gt(this.zone)):p(null)),Ct(!1),H(),yt(1),R()),this.type="hint"}set tuiHintDescribe(t){this.id$.next(t||"")}get element(){return this.doc.getElementById(this.id$.value||"")||this.el}get focused(){return qt(this.element)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=u({type:e,selectors:[["","tuiHintDescribe",""]],inputs:{tuiHintDescribe:"tuiHintDescribe"},features:[d([L(e)]),v]})}}return M([S],e.prototype,"element",null),e})();var Ci=(()=>{class e{constructor(){this.hints$=o(ce),this.destroyRef=o(Tt),this.cdr=o(Lt),this.hints=[]}ngOnInit(){this.hints$.pipe(k(this.destroyRef)).subscribe(t=>{this.hints=t,this.cdr.detectChanges()})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=_({type:e,selectors:[["tui-hints"]],hostAttrs:["aria-live","polite"],decls:1,vars:1,consts:[["role","tooltip",3,"tuiActiveZoneParent",4,"ngFor","ngForOf"],["role","tooltip",3,"tuiActiveZoneParent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(i,n){i&1&&b(0,Ce,2,6,"div",0),i&2&&f("ngForOf",n.hints)},dependencies:[Bt,B,it],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;block-size:0}"],data:{animation:[nt]}})}}return e})();export{T as a,vi as b,ht as c,he as d,yi as e,Ci as f};
