import{a as ut,b as mt,c as L,d as gt,e as ht,f as vt,g as bt,h as Mt,i as E,j as Ft,k as Ot,l as zt}from"./chunk-6XKR2PJN.js";import{g as _t}from"./chunk-S4JXNJ5R.js";import"./chunk-L2IMDIYJ.js";import{a as Dt}from"./chunk-AWSCZWG7.js";import{a as V}from"./chunk-UKSI3PP7.js";import{b as X}from"./chunk-33ZGEYMR.js";import{a as xt,b as yt,c as St}from"./chunk-542GN2AU.js";import{n as ft,q as H}from"./chunk-YYZSG4CE.js";import{d as Tt,e as Pt}from"./chunk-HWWXFXIF.js";import{Ga as pt,Ha as z,Q as st,Qa as Ct,_ as ct,ba as dt,o as tt,q as et,s as it,t as nt,u as ot,v as at,w as rt,x as lt,z as B}from"./chunk-WWZAX2Y5.js";import{Ab as u,Bb as m,Db as D,Fa as k,Gb as g,Hb as r,Ib as P,Jb as F,N,Oc as Q,Pb as y,Pc as C,Qb as Z,Rb as b,Rc as h,Sb as w,Tb as A,Ub as I,Va as a,Vb as p,Yb as J,Za as x,a as R,ca as j,cb as d,eb as W,jb as s,ob as Y,pa as U,pb as o,tb as G,ub as $,vb as q,wb as K,xb as l,ya as S,yb as f,za as T,zb as v}from"./chunk-MEKU6LLM.js";var[Rt,ge]=ct({height:"normal",size:"l"}),jt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-cell"],decls:0,vars:0,template:function(i,n){},styles:[`[tuiCell]{--t-padding: .125rem 1rem;--t-radius: var(--tui-radius-s);-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;position:relative;display:flex;align-items:center;box-sizing:content-box;isolation:isolate;color:var(--tui-text-primary);padding:var(--t-padding);min-block-size:var(--t-height);border-radius:var(--t-radius)}[tuiCell]:disabled,[tuiCell][data-state=disabled]{opacity:initial;pointer-events:none}[tuiCell]:disabled>*:not([tuiTooltip]),[tuiCell][data-state=disabled]>*:not([tuiTooltip]){opacity:var(--tui-disabled-opacity)}[tuiCell]:has(input:disabled){opacity:initial;pointer-events:none}[tuiCell]:has(input:disabled)>*:not([tuiTooltip]){opacity:var(--tui-disabled-opacity)}[tuiCell] [tuiAccessories]{position:relative;display:flex;max-block-size:var(--t-height);align-items:center;align-self:stretch}[tuiCell] [tuiCellActions]{position:absolute;right:0;z-index:1;padding-right:inherit}[tuiCell] [tuiCellActions]~*{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}[tuiCell] [tuiCellActions] button,[tuiCell] [tuiCellActions] a{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:0}[tuiCell] [tuiCellActions] button:focus-visible,[tuiCell] [tuiCellActions] a:focus-visible{opacity:1}[tuiCell] [tuiSubtitle]{display:flex;align-items:center;gap:.25rem;color:var(--tui-text-secondary)}[tuiCell] [tuiTitle]{flex-shrink:7;margin-inline-end:auto;align-items:normal;text-align:start}[tuiCell] [tuiTitle]~[tuiTitle]{flex-shrink:3;margin-inline-end:0;text-align:end;align-items:flex-end}[tuiCell] [tuiTitle]~[tuiTitle][tuiFade]{align-items:flex-start}[tuiCell] tui-badge-notification[data-size=xs]{position:absolute;top:50%;transform:translateY(-50%);left:-.625rem}[tuiCell][data-size=s]{--t-height: calc(var(--tui-height-s) - .125rem);--t-padding: .1875rem 1rem}[tuiCell][data-size=s][data-height=spacious]{--t-padding: .4375rem 1rem}[tuiCell][data-size=s][data-height=compact]{--t-height: calc(var(--tui-height-s) - .25rem);--t-padding: 0 1rem}[tuiCell][data-size=s] [tuiTitle]{max-block-size:100%;font:var(--tui-font-text-ui-s);gap:0}[tuiCell][data-size=s] [tuiSubtitle]{font:var(--tui-font-text-ui-xs)}[tuiCell][data-size=s]>*:not(:first-child),[tuiCell][data-size=s]>[tuiAccessories]>*:not(:first-child){margin-inline-start:.5rem}[tuiCell][data-size=s]>tui-avatar,[tuiCell][data-size=s]>tui-avatar-stack tui-avatar,[tuiCell][data-size=s]>[tuiAccessories] tui-avatar,[tuiCell][data-size=s]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 1.5rem;font:var(--tui-font-text-m);font-size:.5625rem}[tuiCell][data-size=m]{--t-height: calc(var(--tui-height-m) - .75rem);--t-padding: .375rem 1rem}[tuiCell][data-size=m][data-height=spacious]{--t-padding: 1rem}[tuiCell][data-size=m][data-height=compact]{--t-height: calc(var(--tui-height-m) - .5rem);--t-padding: 0 1rem}[tuiCell][data-size=m] [tuiTitle]{font:var(--tui-font-text-ui-s);gap:.125rem}[tuiCell][data-size=m] [tuiSubtitle]{font:var(--tui-font-text-ui-xs)}[tuiCell][data-size=m]>*:not(:first-child),[tuiCell][data-size=m]>[tuiAccessories]>*:not(:first-child){margin-inline-start:.5rem}[tuiCell][data-size=m]>tui-avatar,[tuiCell][data-size=m]>tui-avatar-stack tui-avatar,[tuiCell][data-size=m]>[tuiAccessories] tui-avatar,[tuiCell][data-size=m]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 2rem;align-self:flex-start}[tuiCell][data-size=l]{--t-height: calc(var(--tui-height-l) - 1rem);--t-padding: .5rem 1rem;--t-radius: var(--tui-radius-l)}[tuiCell][data-size=l][data-height=spacious]{--t-padding: 1.25rem 1rem}[tuiCell][data-size=l][data-height=compact]{--t-height: calc(var(--tui-height-l) - 1rem);--t-padding: 0 1rem}[tuiCell][data-size=l]>*:not(:first-child),[tuiCell][data-size=l]>[tuiAccessories]>*:not(:first-child){margin-inline-start:1rem}[tuiCell][data-size=l]>tui-avatar,[tuiCell][data-size=l]>tui-avatar-stack tui-avatar,[tuiCell][data-size=l]>[tuiAccessories] tui-avatar,[tuiCell][data-size=l]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 2.5rem;font:var(--tui-font-text-m);font-weight:700;align-self:flex-start}[tuiCell]:hover [tuiCellActions]~*{opacity:0}[tuiCell]:hover [tuiCellActions] button,[tuiCell]:hover [tuiCellActions] a,[tuiCell]:hover [tuiCellActions] label{opacity:1}[tuiCell]:focus-visible{outline:.125rem solid var(--tui-border-focus);outline-offset:-.125rem}[tuiOption] [tuiCell],tui-primitive-textfield [tuiCell]{padding:0}@media (hover: hover) and (pointer: fine){a[tuiCell]:not([tuiSurface]):hover:not(:disabled,[data-state=disabled]),button[tuiCell]:not([tuiSurface]):hover:not(:disabled,[data-state=disabled]),label[tuiCell]:not([tuiSurface]):hover:not(:disabled,[data-state=disabled]){background:var(--tui-background-neutral-1);cursor:pointer}label[tuiCell]:not([tuiSurface]):hover:not(:has(input:disabled)){background:var(--tui-background-neutral-1);cursor:pointer}}
`],encapsulation:2,changeDetection:0})}}return t})(),Et=(()=>{class t{constructor(){this.options=U(Rt),this.nothing=st(jt),this.size=this.options.size,this.height=this.options.height}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=W({type:t,selectors:[["","tuiCell","",5,"ng-template"]],hostAttrs:["tuiCell",""],hostVars:2,hostBindings:function(i,n){i&2&&Y("data-size",n.size||n.options.size)("data-height",n.height)},inputs:{size:[0,"tuiCell","size"],height:[0,"tuiCellHeight","height"]},features:[p([ut({size:"m"}),pt({size:"s"})])]})}}return t})();var Gt=(t,c,e)=>[t,c,e];function Nt(t,c){if(t&1&&(u(0),l(1,"div",1)(2,"div",2),v(3,"tui-avatar",3),l(4,"div",4),y(5),f()()(),m()),t&2){let e=r();a(),o("relativeTo",null)("routerLink",J(3,Gt,e.APP_ROUTE.APP,e.APP_ROUTE.CASHBACKS,e.card.id)),a(4),b(" ",e.card.name," ")}}var kt=(()=>{class t{constructor(){this.APP_ROUTE=V}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d({type:t,selectors:[["app-card-list-item-entity"]],inputs:{card:"card"},features:[p([])],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["tuiAppearance","floating","tuiCardLarge","","tuiCell","",3,"relativeTo","routerLink"],["tuiCell","l"],["appearance","primary","src","@tui.credit-card"],["tuiTitle",""]],template:function(i,n){i&1&&s(0,Nt,6,7,"ng-container",0),i&2&&o("translocoRead","cardListItemEntity")},dependencies:[C,mt,Et,_t,dt,bt,X],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();var Ut=["*"];function Wt(t,c){t&1&&(u(0),F(1),m())}var At=(()=>{class t{onClick(e){e.preventDefault(),e.stopPropagation(),this.cardEntityHttpService.deleteCard(this.card.id),this.delete.emit()}constructor(e){this.cardEntityHttpService=e,this.delete=new k}static{this.\u0275fac=function(i){return new(i||t)(x(E))}}static{this.\u0275cmp=d({type:t,selectors:[["app-delete-card-feature"]],hostBindings:function(i,n){i&1&&g("click",function(M){return n.onClick(M)})},inputs:{card:"card"},outputs:{delete:"delete"},features:[p([h("deleteCardFeature")])],ngContentSelectors:Ut,decls:1,vars:1,consts:[[4,"transloco","translocoRead"]],template:function(i,n){i&1&&(P(),s(0,Wt,2,0,"ng-container",0)),i&2&&o("translocoRead","deleteCardFeature")},dependencies:[C],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();function Yt(t,c){if(t&1){let e=D();u(0),l(1,"div",1),y(2),f(),l(3,"app-delete-card-feature",2),g("delete",function(){S(e);let n=r();return T(n.onDelete())}),l(4,"button",3),y(5),f()(),m()}if(t&2){let e=c.$implicit,i=r();a(2),Z(e("description")),a(),o("card",i.card),a(2),b(" ",e("button")," ")}}var It=(()=>{class t{constructor(){this.context=H()}onDelete(){this.context.completeWith(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d({type:t,selectors:[["app-delete-card-modal"]],inputs:{card:"card"},features:[p([h("deleteCardModalComponent")])],decls:1,vars:1,consts:[[4,"transloco","translocoPrefix"],[1,"mb-16"],[3,"delete","card"],["appearance","accent","size","xl","tuiButton","","type","submit",1,"w-100"]],template:function(i,n){i&1&&s(0,Yt,6,3,"ng-container",0),i&2&&o("translocoPrefix","deleteCardModalComponent")},dependencies:[B,C,z,At],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding-block-end:inherit}"],changeDetection:0})}}return t})();var $t=["*"];function qt(t,c){if(t&1&&v(0,"app-delete-card-modal",2),t&2){let e=r(2);o("card",e.card)}}function Kt(t,c){if(t&1){let e=D();u(0),F(1),s(2,qt,1,1,"ng-template",1),I("tuiSheetDialogChange",function(n){S(e);let _=r();return A(_.open,n)||(_.open=n),T(n)}),m()}if(t&2){let e=r();a(2),o("tuiSheetDialogOptions",e.options),w("tuiSheetDialog",e.open)}}var Bt=(()=>{class t{onClick(e){e.preventDefault(),e.stopPropagation(),this.open=!0}constructor(){this.open=!1,this.options={label:"You delete card",closeable:!1}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d({type:t,selectors:[["app-open-delete-card-modal-feature"]],hostBindings:function(i,n){i&1&&g("click",function(M){return n.onClick(M)})},inputs:{card:"card"},features:[p([h("openDeleteCardModalFeature")])],ngContentSelectors:$t,decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[3,"tuiSheetDialogChange","tuiSheetDialogOptions","tuiSheetDialog"],[3,"card"]],template:function(i,n){i&1&&(P(),s(0,Kt,3,2,"ng-container",0)),i&2&&o("translocoRead","openDeleteCardModalFeature")},dependencies:[C,L,It],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();var Zt=["*"];function Jt(t,c){t&1&&(u(0),F(1),m())}var Ht=(()=>{class t{onClick(e){e.preventDefault(),e.stopPropagation(),this.cardEntityHttpService.updateCard(this.card.id,this.card),this.save.emit()}constructor(e){this.cardEntityHttpService=e,this.save=new k}static{this.\u0275fac=function(i){return new(i||t)(x(E))}}static{this.\u0275cmp=d({type:t,selectors:[["app-save-card-feature"]],hostBindings:function(i,n){i&1&&g("click",function(M){return n.onClick(M)})},inputs:{card:"card"},outputs:{save:"save"},features:[p([h("saveCardFeature")])],ngContentSelectors:Zt,decls:1,vars:1,consts:[[4,"transloco","translocoRead"]],template:function(i,n){i&1&&(P(),s(0,Jt,2,0,"ng-container",0)),i&2&&o("translocoRead","saveCardFeature")},dependencies:[C],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();function Qt(t,c){if(t&1){let e=D();u(0),l(1,"form",1)(2,"tui-textfield",2),v(3,"input",3),f(),l(4,"app-save-card-feature",4),g("save",function(){S(e);let n=r();return T(n.onSave())}),l(5,"button",5),y(6),f()()(),m()}if(t&2){let e=c.$implicit,i=r();a(),o("formGroup",i.formGroup),a(2),o("placeholder",i.card.name),a(),o("card",i.editedCard),a(2),b(" ",e("formGroup.button")," ")}}var Lt=(()=>{class t{get editedCard(){return R(R({},this.card),this.formGroup.getRawValue())}constructor(e){this.formBuilder=e,this.context=H(),this.formGroup=this.formBuilder.group({name:this.formBuilder.control("",{nonNullable:!0,validators:[et.required]})})}ngOnInit(){this.formGroup.setValue({name:this.card.name})}onSave(){this.context.completeWith(!1)}static{this.\u0275fac=function(i){return new(i||t)(x(lt))}}static{this.\u0275cmp=d({type:t,selectors:[["app-edit-card-modal"]],inputs:{card:"card"},features:[p([h("editCardModalComponent")])],decls:1,vars:1,consts:[[4,"transloco","translocoPrefix"],["tuiForm","m",3,"formGroup"],["tuiTextfieldSize","l"],["formControlName","name","tuiTextfield","",3,"placeholder"],[3,"save","card"],["appearance","primary","size","xl","tuiButton","","type","submit",1,"w-100"]],template:function(i,n){i&1&&s(0,Qt,7,4,"ng-container",0),i&2&&o("translocoPrefix","editCardModalComponent")},dependencies:[B,ot,tt,it,nt,at,rt,Mt,yt,St,xt,C,z,Ht],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{--t-shadow: none}[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding-block-end:inherit}"],changeDetection:0})}}return t})();var Xt=["*"];function te(t,c){if(t&1&&v(0,"app-edit-card-modal",2),t&2){let e=r(2);o("card",e.card)}}function ee(t,c){if(t&1){let e=D();u(0),F(1),s(2,te,1,1,"ng-template",1),I("tuiSheetDialogChange",function(n){S(e);let _=r();return A(_.open,n)||(_.open=n),T(n)}),m()}if(t&2){let e=r();a(2),w("tuiSheetDialog",e.open)}}var Vt=(()=>{class t{onClick(e){e.preventDefault(),e.stopPropagation(),this.open=!0}constructor(){this.open=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d({type:t,selectors:[["app-open-edit-card-modal-feature"]],hostBindings:function(i,n){i&1&&g("click",function(M){return n.onClick(M)})},inputs:{card:"card"},features:[p([h("openEditCardModalFeature")])],ngContentSelectors:Xt,decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[3,"tuiSheetDialogChange","tuiSheetDialog"],[3,"card"]],template:function(i,n){i&1&&(P(),s(0,ee,3,1,"ng-container",0)),i&2&&o("translocoRead","openEditCardModalFeature")},dependencies:[C,L,Lt],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return t})();function ie(t,c){if(t&1&&(l(0,"div",2),v(1,"app-zero-data",4),l(2,"div")(3,"app-open-add-card-modal-feature")(4,"button",5),y(5),f()()()()),t&2){let e=r().$implicit;a(),o("descripiton",e("zeroData.description"))("title",e("zeroData.title")),a(4),b(" ",e("button.addCard")," ")}}function ne(t,c){if(t&1){let e=D();l(0,"tui-swipe-actions",7),v(1,"app-card-list-item-entity",8),l(2,"app-open-edit-card-modal-feature",9),v(3,"button",10),f(),l(4,"app-open-delete-card-modal-feature",9)(5,"button",11),g("click",function(){S(e);let n=r(3);return T(n.open=!0)}),f()()()}if(t&2){let e=c.$implicit;o("autoClose",!0),a(),o("card",e),a(),o("card",e),a(2),o("card",e)}}function oe(t,c){if(t&1&&(l(0,"tui-scrollbar",3)(1,"div",6),q(2,ne,6,4,"tui-swipe-actions",7,$),f(),l(4,"app-open-add-card-modal-feature")(5,"button",5),y(6),f()()()),t&2){let e=r().$implicit,i=r();o("hidden",!0),a(2),K(i.cards),a(4),b(" ",e("button.addCard")," ")}}function ae(t,c){if(t&1&&(u(0),l(1,"tui-app-bar",1),y(2),f(),s(3,ie,6,3,"div",2)(4,oe,7,2,"tui-scrollbar",3),v(5,"app-nav-bar"),m()),t&2){let e=c.$implicit,i=r();a(2),b(" ",e("title")," "),a(),G(i.cards.length===0?3:-1),a(),G(i.cards.length>0?4:-1)}}var Mi=(()=>{class t{constructor(e,i,n,_){this.cardEntityHttpService=e,this.destroyService=i,this.pageTitleService=n,this.translocoService=_,this.APP_ROUTE=V,this.cards=[],this.open=!1,this.options={closeable:!1},this.setPageTitle(),this.cardEntityHttpService.getCards().pipe(j(this.destroyService)).subscribe(M=>{this.cards=M})}setPageTitle(){this.translocoService.selectTranslate("title",{},{scope:"cardsPage"}).pipe(j(this.destroyService),N(1)).subscribe(e=>{this.pageTitleService.setTitle(e)})}static{this.\u0275fac=function(i){return new(i||t)(x(E),x(Tt),x(Pt),x(Q))}}static{this.\u0275cmp=d({type:t,selectors:[["app-card-list-page"]],features:[p([h("cardListPage"),{provide:Ct,useValue:!1}])],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[1,"flex-none"],[1,"flex-grow-1","d-flex","flex-column","justify-between"],[1,"flex-grow-1",3,"hidden"],[3,"descripiton","title"],["appearance","secondary","tuiButton","","tuiTouchable","transform","type","button",1,"w-100"],[1,"card-container"],["tuiTouchable","transform",1,"flex-shrink-0",3,"autoClose"],[3,"card"],["tuiSwipeAction","",3,"card"],["iconStart","@tui.pencil-line","size","s","tuiIconButton","","tuiTouchable","transform","type","button"],["appearance","secondary-destructive","iconStart","@tui.trash","size","s","tuiIconButton","","tuiTouchable","transform","type","button",3,"click"]],template:function(i,n){i&1&&s(0,ae,6,3,"ng-container",0),i&2&&o("translocoRead","cardListPage")},dependencies:[ht,z,Dt,C,vt,kt,ft,Ft,Vt,Bt,gt,zt,Ot],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   tui-app-bar[_ngcontent-%COMP%]{border-bottom:1px solid #e4e4e4}[_nghost-%COMP%]   .card-container[_ngcontent-%COMP%]{padding-top:1rem;display:flex;flex-direction:column;gap:1rem;inline-size:21rem;margin:0 auto}[_nghost-%COMP%]   .card-container[_ngcontent-%COMP%]   tui-swipe-actions[_ngcontent-%COMP%]{margin:-1.5rem}[_nghost-%COMP%]   app-card-list-item-entity[_ngcontent-%COMP%]{margin:1.5rem 1rem}[_nghost-%COMP%]   app-open-delete-card-modal-feature[_ngcontent-%COMP%]{--t-distance: none}[_nghost-%COMP%]   app-open-add-card-modal-feature[_ngcontent-%COMP%]{margin:1rem}"],changeDetection:0})}}return t})();export{Mi as CardListPageComponent};
