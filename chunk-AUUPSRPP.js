import{F as a,o as C,s as n,v}from"./chunk-LNADR3CJ.js";import{Ha as m,I as u,R as c,X as d,Xb as g,ba as p,da as i,fb as s,hb as y,ja as f,l as h,qa as o,x as l}from"./chunk-VR6UGIJK.js";var b=(()=>{class e{constructor(){if(this.ngControl=o(n,{optional:!0,self:!0}),this.onChange=a,this.onTouched=a,this.zone=o(m),this.destroySubj=new h,this.destroyService=this.destroySubj.asObservable(),!this.ngControl)throw new Error(`NgControl not injected in ${this.constructor.name}!

         Use [(ngModel)] or [formControl] or formControlName for correct work.`);this.ngControl.valueAccessor=this}ngOnInit(){this.ngControl&&(this.syncInternalValidity(this.ngControl),this.syncExternalErrors(this.ngControl)),this.syncInternalChanges(),this.syncInternalTouched()}ngOnDestroy(){this.destroySubj.next(),this.destroySubj.complete()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}validate(t){return t.valid?null:{[String(this.ngControl?.name)]:{value:this.control.value,message:"Nested AbstractControl is invalid"}}}writeValue(t){this.control instanceof v&&t===null||t!==void 0&&this.control.setValue(t,{emitEvent:!1})}syncInternalChanges(){this.control.valueChanges.pipe(i(this.destroyService)).subscribe(t=>this.onChange(t))}syncExternalErrors(t){t.statusChanges?.pipe(c()).pipe(i(this.destroyService)).subscribe(()=>{t.errors&&Object.keys(t.errors).length>0&&this.control.setErrors(t.errors)})}syncInternalTouched(){this.zone.onStable.pipe(l(()=>this.control.touched),c(),u(t=>t)).pipe(i(this.destroyService)).subscribe(()=>this.onTouched())}syncInternalValidity(t){this.control.statusChanges.pipe(p(this.control.status),d()).pipe(i(this.destroyService)).subscribe(([r,E])=>{if(r==="PENDING"&&E!=="PENDING"){this.control.updateValueAndValidity();return}if(t.control&&!t.control.errors){let S=this.validate(this.control);t.control.setErrors(S)}})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=s({type:e,features:[g([{provide:C,useExisting:f(()=>e),multi:!0}])]})}}return e})();var G=(()=>{class e extends b{constructor(){super(),this.ngControl=o(n,{optional:!0,self:!0})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=s({type:e,features:[y]})}}return e})();export{G as a};
